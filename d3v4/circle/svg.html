<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML5中的SVG属性实现圆形进度条效果</title>
    <style>
        .circle_bar {
            stroke-dasharray: 200%;
            stroke-dashoffset: 100%;
            animation: donut 800ms;
        }
        @keyframes donut {
            from {
                stroke-dashoffset: 100%;
            }
            to {
                stroke-dashoffset: 0%;
            }
        }
        #progress {stroke-dashoffset: 0%;}
    </style>
</head>
<body>


<svg width="186" height="186" xmlns="http://www.w3.org/2000/svg">
    <!--<path id="ring" fill="none" stroke="#fd30ae"/>-->
    <circle id="backdrop" r="90" cy="93" cx="93" stroke-width="3" stroke="#333" fill="none"/>
    <circle id="progress" class="circle_bar" r="90" cy="93" cx="93" stroke-linecap="round" stroke-width="4" stroke="orange" fill="none"/>
</svg>
<script>


    function setring() {
        var path = document.getElementById('ring');
        var r = 100;

        var progress = 0.9;

        //将path平移到我们需要的坐标位置
        ring.setAttribute('transform', 'translate(' + r + ',' + r + ')');

        // 计算当前的进度对应的角度值
        var degrees = progress * 360;

        // 计算当前角度对应的弧度值
        var rad = degrees * (Math.PI / 180);

        //极坐标转换成直角坐标
        var x = (Math.sin(rad) * r).toFixed(2);
        var y = -(Math.cos(rad) * r).toFixed(2);

        //大于180度时候画大角度弧，小于180度的画小角度弧，(deg > 180) ? 1 : 0
        var lenghty = window.Number(degrees > 180);

        //path 属性
        var descriptions = ['M', 0, -r, 'A', r, r, 0, lenghty, 1, x, y];

        // 给path 设置属性
        path.setAttribute('d', descriptions.join(' '));
    }

    //setring()
</script>
</body>
</html>