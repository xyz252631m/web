var __awaiter=this&&this.__awaiter||function(e,r,t,s){function f(n){return n instanceof t?n:new t(function(e){e(n)})}return new(t||(t=Promise))(function(n,t){function a(e){try{o(s.next(e))}catch(e){t(e)}}function i(e){try{o(s["throw"](e))}catch(e){t(e)}}function o(e){e.done?n(e.value):f(e.value).then(a,i)}o((s=s.apply(e,r||[])).next())})};var __generator=this&&this.__generator||function(e,t){var a={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,o,r,n;return n={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(e){return f([n,e])}}function f(n){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,o&&(r=n[0]&2?o["return"]:n[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,n[1])).done)return r;if(o=0,r)n=[n[0]&2,r.value];switch(n[0]){case 0:case 1:r=n;break;case 4:a.label++;return{value:n[1],done:false};case 5:a.label++;o=n[1];n=[0];continue;case 7:n=a.ops.pop();a.trys.pop();continue;default:if(!(r=a.trys,r=r.length>0&&r[r.length-1])&&(n[0]===6||n[0]===2)){a=0;continue}if(n[0]===3&&(!r||n[1]>r[0]&&n[1]<r[3])){a.label=n[1];break}if(n[0]===6&&a.label<r[1]){a.label=r[1];r=n;break}if(r&&a.label<r[2]){a.label=r[2];a.ops.push(n);break}if(r[2])a.ops.pop();a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e];o=0}finally{i=r=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:true}}};var _this=this;mi.define("ready2",function(){return{init:function(e,n){function s(e,n){switch(arguments.length){case 1:return parseInt(String(Math.random()*e+1),10);case 2:return parseInt(Math.random()*(n-e+1)+e,10);default:return 0}}var f=["高大山","谢大海","马宏宇","林莽","黄强辉","章汉夫","范长江","林君雄","谭平山","朱希亮","李四光","甘铁生","张伍绍祖","马继祖","程孝先","宗敬先","年广嗣","汤绍箕","吕显祖","何光宗","孙念祖","马建国","节振国","冯兴国","郝爱民","于学忠","马连良","胡宝善","李宗仁","洪学智","余克勤","吴克俭","杨惟义","李文信","王德茂","李书诚","杨勇","高尚德","刁富贵","汤念祖","吕奉先","何光宗","冷德友","安怡孙","贾德善","蔡德霖","关仁","郑义贾怡孙天民","赵大华","赵进喜","赵德荣","赵德茂","钱汉祥","钱运高","钱生禄","孙寿康","孙应吉","孙顺达","李秉贵","李厚福","李开富","王子久","刘永生","刘宝瑞","关玉和","王仁兴","李际泰","罗元发","刘造时","刘乃超","刘长胜","张成基","张国柱","张志远","张广才","吕德榜","吕文达","吴家栋","吴国梁","吴立功","李大江","张石山","王海"];var l=["在业","高新技术企业","天使轮","建筑工程企业","A股"];var t={rangeDomHeight:200-14,range:57.7,init:function(){var t=false;var a=this;var i=a.range;var o=0;var r=0;$(".range-content").on("mousedown",function(e){t=true;r=e.pageY;i=$(".range-select").height();window.event?window.event.cancelBubble=true:e.stopPropagation()});$(window).on("mousemove",function(e){if(t){var n=a.rangeDomHeight;o=i+e.pageY-r;if(o<0){o=0}if(o>n){o=n}a.setRangeCss(o);c.scaleMap(a.getScaleByRange(o))}}).on("mouseup",function(){if(t){t=false;a.range=o}});a.setScaleVal(1)},setScaleVal:function(e){var n=.1,t=3,a=200-14;var i=(e-n)/(t-n)*a;this.setRangeCss(i)},getRangeByScale:function(e){var n=.1,t=3,a=200-14;var i=(e-n)/(t-n)*a;return i},getScaleByRange:function(e){var n=.1,t=3;this.scale=e/this.rangeDomHeight*(t-n)+n;return this.scale},setRangeCss:function(e){$(".range-content").css({top:e+"px"});$(".range-select").css({height:e+"px"})}};t.init();var c=new n(e,{id:"svgBox",lineColor:"#ccc",hoverLineColor:"#3ba1f4",hasDetailInfo:true,mousewheel:function(e){t.setScaleVal(e)},nodeClick:function(e){console.log("click",e);if(e.level===1){console.log("第二层")}},detailInfoShowBefore:function(e,n){var t=n.find(".info-box-1");if(e.nodeType==="999"){n.find(".info-box-main").hide();n.find(".info-box-1").show();t.find("h4").text(e.name);var a=t.find(".img-box span");a.eq(0).text(e.name[0]);a.eq(1).text(e.name[1]);a.eq(2).text(e.name[2]);a.eq(3).text(e.name[3]);var i=t.find(".info-list span");if(!e.hasInfo){e.hasInfo={tagList:l[s(1,l.length)],name:f[s(0,f.length)],money:s(10,200)*10,date:[s(1990,2015),s(1,12),s(1,28)].join("-")}}t.find(".tag-list label").eq(1).text(e.hasInfo.tagList);i.eq(0).text(e.hasInfo.name);i.eq(1).text(e.hasInfo.money);i.eq(2).text(e.hasInfo.date)}else if(e.nodeType==="998"){t=n.find(".info-box-2");n.find(".info-box-main").hide();n.find(".info-box-2").show();t.find("h4").text(e.name);t.find(".img-box span").text(e.name[0]);if(!e.hasInfo2){var o=s(0,4);e.hasInfo2={num:[o+s(0,4),s(0,4),o,o+s(0,2)]}}var r=t.find(".per-info-list span");r.eq(0).text(e.hasInfo2.num[0]);r.eq(1).text(e.hasInfo2.num[1]);r.eq(2).text(e.hasInfo2.num[2]);r.eq(3).text(e.hasInfo2.num[3])}else{return false}}});$.get("../json/tupuData.json",function(e){if(e&&e.result){var n=e.result;c.init(n)}});$(".op-btn-plus").on("click",function(){var e=c.plus();t.setScaleVal(e)});$(".op-btn-minus").on("click",function(){var e=c.minus();t.setScaleVal(e)});$(".op-btn-refresh").on("click",function(){c.reset();t.setScaleVal(1)});var a=false;$(".op-btn-expand").on("click",function(){var e=document.documentElement;if(a){if(document.exitFullscreen){document.exitFullscreen()}$(this).find("i").removeClass("fa-compress");$(this).find("p").text("全屏")}else{if(e.requestFullscreen){e.requestFullscreen()}$(this).find("i").addClass("fa-compress");$(this).find("p").text("退出")}a=!a})}}});mi.define("ready",function(){return __awaiter(_this,void 0,void 0,function(){var n,t,a,i;return __generator(this,function(e){switch(e.label){case 0:return[4,mi.preload("../svg.min.js")];case 1:n=e.sent();console.log("SVG",n);t=mi.preload("../js/citeTree.js");return[4,t];case 2:a=e.sent().CiteTree;return[4,mi.preload("ready2")];case 3:i=e.sent();$(function(){i.init(n,a)});return[2]}})})});